# Generated by Django 4.2.8 on 2026-02-02 22:04

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0005_subscription_refactor'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='actionlog',
            options={'verbose_name': "Journal d'actions", 'verbose_name_plural': "Journaux d'actions"},
        ),
        migrations.AlterModelOptions(
            name='book',
            options={'ordering': ['title'], 'verbose_name': 'Livre', 'verbose_name_plural': 'Livres'},
        ),
        migrations.AlterModelOptions(
            name='borrowrequest',
            options={'verbose_name': "Demande d'emprunt", 'verbose_name_plural': "Demandes d'emprunt"},
        ),
        migrations.AlterModelOptions(
            name='comment',
            options={'verbose_name': 'Commentaire', 'verbose_name_plural': 'Commentaires'},
        ),
        migrations.AlterModelOptions(
            name='like',
            options={'verbose_name': 'Like', 'verbose_name_plural': 'Likes'},
        ),
        migrations.AlterModelOptions(
            name='missingrequest',
            options={'verbose_name': "Demande d'achat", 'verbose_name_plural': "Demandes d'achat"},
        ),
        migrations.AlterModelOptions(
            name='notification',
            options={'verbose_name': 'Notification', 'verbose_name_plural': 'Notifications'},
        ),
        migrations.AlterModelOptions(
            name='reservation',
            options={'verbose_name': 'Réservation', 'verbose_name_plural': 'Réservations'},
        ),
        migrations.AddField(
            model_name='missingrequest',
            name='handled_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='traité le'),
        ),
        migrations.AddField(
            model_name='missingrequest',
            name='handled_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='handled_missing_requests', to=settings.AUTH_USER_MODEL, verbose_name='traité par'),
        ),
        migrations.AddField(
            model_name='missingrequest',
            name='handled_note',
            field=models.TextField(blank=True, verbose_name='note de traitement'),
        ),
        migrations.AlterField(
            model_name='actionlog',
            name='action',
            field=models.CharField(max_length=255, verbose_name='action'),
        ),
        migrations.AlterField(
            model_name='actionlog',
            name='actor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='acteur'),
        ),
        migrations.AlterField(
            model_name='actionlog',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='créé le'),
        ),
        migrations.AlterField(
            model_name='actionlog',
            name='extra',
            field=models.JSONField(blank=True, null=True, verbose_name='données supplémentaires'),
        ),
        migrations.AlterField(
            model_name='book',
            name='authors',
            field=models.CharField(max_length=255, verbose_name='auteurs'),
        ),
        migrations.AlterField(
            model_name='book',
            name='available_copies',
            field=models.IntegerField(default=1, verbose_name='exemplaires disponibles'),
        ),
        migrations.AlterField(
            model_name='book',
            name='category',
            field=models.CharField(blank=True, max_length=120, verbose_name='catégorie'),
        ),
        migrations.AlterField(
            model_name='book',
            name='description',
            field=models.TextField(blank=True, verbose_name='description'),
        ),
        migrations.AlterField(
            model_name='book',
            name='image',
            field=models.ImageField(blank=True, null=True, upload_to='books/', verbose_name='image'),
        ),
        migrations.AlterField(
            model_name='book',
            name='title',
            field=models.CharField(max_length=255, verbose_name='titre'),
        ),
        migrations.AlterField(
            model_name='book',
            name='total_copies',
            field=models.PositiveIntegerField(default=1, verbose_name="nombre total d'exemplaires"),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='admin_comment',
            field=models.TextField(blank=True, verbose_name='commentaire admin'),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='book',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='borrow_requests', to='library.book', verbose_name='livre'),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='borrow_date',
            field=models.DateField(blank=True, null=True, verbose_name="date d'emprunt"),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='due_date',
            field=models.DateField(blank=True, null=True, verbose_name="date d'échéance"),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='requested_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='demandé le'),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='status',
            field=models.CharField(choices=[('PENDING', 'En attente'), ('APPROVED', 'Accepté'), ('REJECTED', 'Refusé'), ('RETURNED', 'Rendu')], default='PENDING', max_length=20, verbose_name='statut'),
        ),
        migrations.AlterField(
            model_name='borrowrequest',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='borrow_requests', to=settings.AUTH_USER_MODEL, verbose_name='étudiant'),
        ),
        migrations.AlterField(
            model_name='comment',
            name='book',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='library.book', verbose_name='livre'),
        ),
        migrations.AlterField(
            model_name='comment',
            name='content',
            field=models.TextField(verbose_name='contenu'),
        ),
        migrations.AlterField(
            model_name='comment',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='créé le'),
        ),
        migrations.AlterField(
            model_name='comment',
            name='parent',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', to='library.comment', verbose_name='parent'),
        ),
        migrations.AlterField(
            model_name='comment',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='étudiant'),
        ),
        migrations.AlterField(
            model_name='like',
            name='book',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='likes', to='library.book', verbose_name='livre'),
        ),
        migrations.AlterField(
            model_name='like',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='créé le'),
        ),
        migrations.AlterField(
            model_name='like',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='étudiant'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='authors',
            field=models.CharField(blank=True, max_length=255, verbose_name='auteurs'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='créé le'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='justification',
            field=models.TextField(verbose_name='justification'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='status',
            field=models.CharField(choices=[('OPEN', 'Ouvert'), ('ORDERED', 'Commandé'), ('DENIED', 'Refusé')], default='OPEN', max_length=30, verbose_name='statut'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='étudiant'),
        ),
        migrations.AlterField(
            model_name='missingrequest',
            name='title',
            field=models.CharField(max_length=255, verbose_name='titre'),
        ),
        migrations.AlterField(
            model_name='notification',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='créé le'),
        ),
        migrations.AlterField(
            model_name='notification',
            name='message',
            field=models.TextField(verbose_name='message'),
        ),
        migrations.AlterField(
            model_name='notification',
            name='read',
            field=models.BooleanField(default=False, verbose_name='lu'),
        ),
        migrations.AlterField(
            model_name='notification',
            name='recipient',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL, verbose_name='destinataire'),
        ),
        migrations.AlterField(
            model_name='notification',
            name='type',
            field=models.CharField(default='info', max_length=50, verbose_name='type'),
        ),
        migrations.AlterField(
            model_name='reservation',
            name='book',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reservations', to='library.book', verbose_name='livre'),
        ),
        migrations.AlterField(
            model_name='reservation',
            name='reserved_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='réservé le'),
        ),
        migrations.AlterField(
            model_name='reservation',
            name='status',
            field=models.CharField(choices=[('ACTIVE', 'Active'), ('CANCELLED', 'Annulée'), ('FULFILLED', 'Remplie')], default='ACTIVE', max_length=20, verbose_name='statut'),
        ),
        migrations.AlterField(
            model_name='reservation',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reservations', to=settings.AUTH_USER_MODEL, verbose_name='étudiant'),
        ),
        migrations.AlterField(
            model_name='user',
            name='address',
            field=models.TextField(blank=True, verbose_name='adresse'),
        ),
        migrations.AlterField(
            model_name='user',
            name='avatar',
            field=models.ImageField(blank=True, null=True, upload_to='avatars/', verbose_name='avatar'),
        ),
        migrations.AlterField(
            model_name='user',
            name='date_expiration',
            field=models.DateTimeField(blank=True, editable=False, null=True, verbose_name="date d'expiration"),
        ),
        migrations.AlterField(
            model_name='user',
            name='date_paiement',
            field=models.DateTimeField(blank=True, help_text='Date et heure du paiement (format UTC)', null=True, verbose_name='date de paiement'),
        ),
        migrations.AlterField(
            model_name='user',
            name='faculty',
            field=models.CharField(blank=True, max_length=120, verbose_name='faculté'),
        ),
        migrations.AlterField(
            model_name='user',
            name='force_password_change',
            field=models.BooleanField(default=False, verbose_name='forcer changement mot de passe'),
        ),
        migrations.AlterField(
            model_name='user',
            name='is_librarian',
            field=models.BooleanField(default=False, verbose_name='personnel bibliothèque'),
        ),
        migrations.AlterField(
            model_name='user',
            name='matricule',
            field=models.CharField(blank=True, max_length=30, null=True, unique=True, verbose_name='matricule'),
        ),
        migrations.AlterField(
            model_name='user',
            name='phone',
            field=models.CharField(blank=True, max_length=30, verbose_name='téléphone'),
        ),
        migrations.AlterField(
            model_name='user',
            name='proof_of_payment',
            field=models.FileField(blank=True, null=True, upload_to='proofs/', verbose_name='preuve de paiement'),
        ),
    ]
